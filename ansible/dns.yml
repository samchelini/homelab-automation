---
- hosts: ns1
  gather_facts: false
  roles:
    - create_vm
    - extend-lvm
  vars:
    vm_name: ns1
    vcenter_resource_pool: infra
    vm_network: infra
    vm_dns: "8.8.8.8, 8.8.4.4"
    vm_cidr: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38313434316534616664633332323336393037643866343039663262366465653062666266623833
          3038373034666137656439376634386132376264616461640a333534356666343933383965646263
          30303762613833383034373266356432373936383961616338653466363334613331656232303131
          3232656232626439660a316564326663643935653937326235656234636365323138666539363765
          6236
    vm_gateway: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63313135313639636431323530343338613963396666633630383339613830653438613233303138
          6239343166643034383761316264393736303762393764610a306336633036366363306239663030
          37346534313534663861613265636237353263326535336230656466393531323635366564613439
          3164653362323332370a303238376266366535323465383431313065373466333437653038623536
          3936

- hosts: ns2
  gather_facts: false
  roles:
    - create_vm
    - extend-lvm
  vars:
    vm_name: ns2
    vcenter_resource_pool: infra
    vm_network: infra
    vm_cidr: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61623064386239363236376261373739633835313836646364336431353933653636373266633035
          3534316235313664353666376336663766383835356465360a313764666333343439363865333265
          66633965396539613766303763393030316434316435353839373435663436376166333634663631
          3034313534346232340a643236306637373034373866393934373431643033656232303666626438
          6433
    vm_gateway: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63313135313639636431323530343338613963396666633630383339613830653438613233303138
          6239343166643034383761316264393736303762393764610a306336633036366363306239663030
          37346534313534663861613265636237353263326535336230656466393531323635366564613439
          3164653362323332370a303238376266366535323465383431313065373466333437653038623536
          3936

- hosts: dns
  roles:
    - dns
