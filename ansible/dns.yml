---
- hosts: ns1
  gather_facts: false
  roles:
    - create_vm
    - extend-lvm
  vars:
    vm_name: ns1
    vcenter_resource_pool: infra
    vm_network: infra
    vm_dns: "8.8.8.8, 8.8.4.4"
    vm_cidr: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34646535616239386562633261626162323766623833343565393035336333393232323061633633
          6339666463663631306264666663643161386536653133370a343834326562336361646261336266
          65303064333434633330366137326134363565303332373966393061373466333038356137346538
          3562346566343539340a346430346634643263643562303739376335643535643234326235353737
          3564
    vm_gateway: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63313135313639636431323530343338613963396666633630383339613830653438613233303138
          6239343166643034383761316264393736303762393764610a306336633036366363306239663030
          37346534313534663861613265636237353263326535336230656466393531323635366564613439
          3164653362323332370a303238376266366535323465383431313065373466333437653038623536
          3936

- hosts: ns2
  gather_facts: false
  roles:
    - create_vm
    - extend-lvm
  vars:
    vm_name: ns2
    vcenter_resource_pool: infra
    vm_network: infra
    vm_dns: "8.8.8.8, 8.8.4.4"
    vm_cidr: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33373337376230383663313863363436616363653632386237383264393230656339323666376232
          3461306662393864343666643838663565306138333136610a336630396337393136646462376237
          34633964323563613732643865346564316330396466643262333161313031613564393964636632
          6665623864393232330a626637663966393132353832353335373762306366336434386532373564
          3165
    vm_gateway: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63313135313639636431323530343338613963396666633630383339613830653438613233303138
          6239343166643034383761316264393736303762393764610a306336633036366363306239663030
          37346534313534663861613265636237353263326535336230656466393531323635366564613439
          3164653362323332370a303238376266366535323465383431313065373466333437653038623536
          3936

- hosts: dns
  roles:
    - dns
