---
- hosts: ns1
  gather_facts: false
  roles:
    - create_vm
    - extend-lvm
  vars:
    vm_name: ns1
    vcenter_resource_pool: infra
    vm_network: infra
    vm_dns: "8.8.8.8, 8.8.4.4"
    vm_cidr: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34646535616239386562633261626162323766623833343565393035336333393232323061633633
          6339666463663631306264666663643161386536653133370a343834326562336361646261336266
          65303064333434633330366137326134363565303332373966393061373466333038356137346538
          3562346566343539340a346430346634643263643562303739376335643535643234326235353737
          3564
    vm_gateway: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30613337326236643538626539393131363736623133333736633939396137663237336366316166
          3434323465633639323263363364616539346233323662660a666430366663623333646465343633
          33306263313235393831353432336432396139656432613635363231333136636434623238653639
          3732656633363765350a306638373533623537376265336266366632323066383835386635323765
          6538

- hosts: ns2
  gather_facts: false
  roles:
    - create_vm
    - extend-lvm
  vars:
    vm_name: ns2
    vcenter_resource_pool: infra
    vm_network: infra
    vm_dns: "8.8.8.8, 8.8.4.4"
    vm_cidr: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33373337376230383663313863363436616363653632386237383264393230656339323666376232
          3461306662393864343666643838663565306138333136610a336630396337393136646462376237
          34633964323563613732643865346564316330396466643262333161313031613564393964636632
          6665623864393232330a626637663966393132353832353335373762306366336434386532373564
          3165
    vm_gateway: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34393266346665393930313236636138393539326163373936383630613464653035613566313739
          3666303563623334393933333862306437313066323931390a343632656165633837396636623366
          63346532623933336531303132643162653539633663613231623430663263326534383330626433
          3231333934303961370a343435303832663166613036383434396164653861396166623532333933
          3761

- hosts: dns
  roles:
    - dns
